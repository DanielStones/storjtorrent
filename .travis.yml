language: python
python:
  - "2.7"
  - "3.3"
  - "3.4"
before_install:
  - sudo apt-get update
  - sudo apt-get install libtorrent-rasterbar6
  - if [[ "$TRAVIS_PYTHON_VERSION" == "2.7" ]]; then
      sudo apt-get install python-libtorrent python-dev;
    else
      sudo apt-get install python3-libtorrent python3-dev;
    fi
install:
  - sudo pip install coverage coveralls
  - sudo python setup.py install
script:
  - sudo coverage run setup.py test -a "--doctest-modules --pep8 -v tests/ storjtorrent/"
  - coverage report -m --include="storjtorrent/*"
after_success:
  - coveralls
notifications:
  slack:
    secure: Avmt9x3eMk8f7TpY7OmxvQJTUkpcJjnEZ+aPenh4dO+K6WWmHffK82zK8M+PN5WA7gfffEyPElrfPdMQYNVMmeFzt1S7vu6lvxDh/p/7RnRb3wE6JdpJPngEOf2HFPaFuh9Uqp2zoSleeIHs/n8Qf6HURx5GbzskQ350oWuB06E=